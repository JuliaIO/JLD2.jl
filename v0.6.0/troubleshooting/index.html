<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Troubleshooting ¬∑ Julia Data Format</title><meta name="title" content="Troubleshooting ¬∑ Julia Data Format"/><meta property="og:title" content="Troubleshooting ¬∑ Julia Data Format"/><meta property="twitter:title" content="Troubleshooting ¬∑ Julia Data Format"/><meta name="description" content="Documentation for Julia Data Format."/><meta property="og:description" content="Documentation for Julia Data Format."/><meta property="twitter:description" content="Documentation for Julia Data Format."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Julia Data Format</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../basic_usage/">Basic Usage</a></li><li><a class="tocitem" href="../customserialization/">Custom Serialization</a></li><li><a class="tocitem" href="../compression/">Compression</a></li><li><a class="tocitem" href="../internals/">Internals &amp; Design</a></li><li><a class="tocitem" href="../hdf5compat/">HDF5 Compatibility</a></li><li><a class="tocitem" href="../advanced/">Advanced Usage</a></li><li><a class="tocitem" href="../legacy/">Legacy</a></li><li class="is-active"><a class="tocitem" href>Troubleshooting</a><ul class="internal"><li><a class="tocitem" href="#Objects-are-cached-during-loading"><span>Objects are cached during loading</span></a></li><li><a class="tocitem" href="#Cross-compatibility"><span>Cross-compatibility</span></a></li><li><a class="tocitem" href="#Security"><span>Security</span></a></li><li><a class="tocitem" href="#Viewing-header-messages"><span>Viewing header messages</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Troubleshooting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Troubleshooting</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaIO/JLD2.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaIO/JLD2.jl/blob/master/docs/src/troubleshooting.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Gotchas-and-Troubleshooting"><a class="docs-heading-anchor" href="#Gotchas-and-Troubleshooting">Gotchas &amp; Troubleshooting</a><a id="Gotchas-and-Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Gotchas-and-Troubleshooting" title="Permalink"></a></h1><h2 id="Objects-are-cached-during-loading"><a class="docs-heading-anchor" href="#Objects-are-cached-during-loading">Objects are cached during loading</a><a id="Objects-are-cached-during-loading-1"></a><a class="docs-heading-anchor-permalink" href="#Objects-are-cached-during-loading" title="Permalink"></a></h2><p>JLD2 caches objects during loading. It may give you the same object twice. This can lead to surprising results if you edit loaded arrays. Note, the underlying file is not being edited!</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; jldsave(&quot;demo.jld2&quot;, a=zeros(2))</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; f = jldopen(&quot;demo.jld2&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">JLDFile /home/runner/work/JLD2.jl/JLD2.jl/docs/build/demo.jld2 (read-only)
 ‚îî‚îÄüî¢ a</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; a = f[&quot;a&quot;] # bind loaded array to name `a`</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{Float64}:
 0.0
 0.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; a[1] = 42; # editing the underlying array</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; f[&quot;a&quot;]</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{Float64}:
 42.0
  0.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; a = nothing # remove all references to the loaded array</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; GC.gc(true) # call GC to remove the cache</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; f[&quot;a&quot;] # a new copy is loaded from the file</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{Float64}:
 0.0
 0.0</code></pre><h2 id="Cross-compatibility"><a class="docs-heading-anchor" href="#Cross-compatibility">Cross-compatibility</a><a id="Cross-compatibility-1"></a><a class="docs-heading-anchor-permalink" href="#Cross-compatibility" title="Permalink"></a></h2><p>JLD2 tries to write files in a way that allows you to load them on different operating systems and in particular both on 32bit and 64bit systems. However, many julia structs may be inherently different on different architectures making this task impossible. In particular, moving data from a 64bit system to a 32bit system is only guaranteed to work for basic datatypes.</p><h2 id="Security"><a class="docs-heading-anchor" href="#Security">Security</a><a id="Security-1"></a><a class="docs-heading-anchor-permalink" href="#Security" title="Permalink"></a></h2><p>Beware of opening JLD2 files from untrusted sources. A malicious file may execute code on your computer. See e.g. this project&#39;s <a href="https://github.com/JuliaIO/JLD2.jl/issues/117">issue #117</a>. To check a file, you can use debug tooling provided by <code>JLD2</code> to view what kinds of objects are stored. Details on the available tools are described below.</p><h2 id="Viewing-header-messages"><a class="docs-heading-anchor" href="#Viewing-header-messages">Viewing header messages</a><a id="Viewing-header-messages-1"></a><a class="docs-heading-anchor-permalink" href="#Viewing-header-messages" title="Permalink"></a></h2><p>Following the HDF5 format specification, JLD2 stores metadata and all information required to interpret the stored data for each dataset in the form of so-called <em>header messages</em>. Each hdf5 group, dataset, and committed datatype consist of and object header followed by a variable number of header messages.</p><p>There exist different types of these to encode for the data type or the layout i.e. single element or array.</p><p>These can be printed for inspection using JLD2:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; jldsave(&quot;test.jld2&quot;;
           a = 42,
           b = [1,2,3,4,5],
           c = (1,2),
       )</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; f = jldopen(&quot;test.jld2&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">JLDFile /home/runner/work/JLD2.jl/JLD2.jl/docs/build/test.jld2 (read-only)
 ‚îú‚îÄüî¢ a
 ‚îú‚îÄüî¢ b
 ‚îî‚îÄüî¢ c</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; JLD2.print_header_messages(f, &quot;a&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">‚îå‚îÄ Header Message: HmFillValue
‚îÇ ‚îå‚îÄ offset:	RelOffset(55)
‚îÇ ‚îÇ  size:	2
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	3
‚îî‚îÄ   flags:	9
‚îå‚îÄ Header Message: HmDataspace
‚îÇ ‚îå‚îÄ offset:	RelOffset(61)
‚îÇ ‚îÇ  size:	4
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	2
‚îÇ    dimensionality:	0
‚îÇ    flags:	0
‚îÇ    dataspace_type:	0
‚îÇ    dim_offset:	RelOffset(69)
‚îî‚îÄ   dimensions:	()
‚îå‚îÄ Header Message: HmDatatype
‚îÇ ‚îå‚îÄ offset:	RelOffset(69)
‚îÇ ‚îÇ  size:	12
‚îÇ ‚îî‚îÄ flags:	1
‚îÇ    datatype_offset:	RelOffset(73)
‚îî‚îÄ   dt:	JLD2.FixedPointDatatype(0x30, 0x08, 0x00, 0x00, 0x00000008, 0x0000, 0x0040)
‚îå‚îÄ Header Message: HmDataLayout
‚îÇ ‚îå‚îÄ offset:	RelOffset(85)
‚îÇ ‚îÇ  size:	12
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	4
‚îÇ    layout_class:	LcCompact
‚îÇ    data_size:	8
‚îÇ    data_address:	RelOffset(93)
‚îî‚îÄ   data:	UInt8[0x2a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
‚îå‚îÄ Header Message: HmNil
‚îÇ ‚îå‚îÄ offset:	RelOffset(101)
‚îÇ ‚îÇ  size:	16
‚îÇ ‚îî‚îÄ flags:	0
‚îî‚îÄ</code></pre><p>Here we see, among other things, a</p><ul><li>dataspace message which states that <code>&quot;a&quot;</code> is a single (scalar) element</li><li>datatype message</li><li>datalayout message of the <em>compact</em> type which means that the data is so small it was</li></ul><p>directly stored as part of the message.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; JLD2.print_header_messages(f, &quot;b&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">‚îå‚îÄ Header Message: HmFillValue
‚îÇ ‚îå‚îÄ offset:	RelOffset(132)
‚îÇ ‚îÇ  size:	2
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	3
‚îî‚îÄ   flags:	9
‚îå‚îÄ Header Message: HmDataspace
‚îÇ ‚îå‚îÄ offset:	RelOffset(138)
‚îÇ ‚îÇ  size:	12
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	2
‚îÇ    dimensionality:	1
‚îÇ    flags:	0
‚îÇ    dataspace_type:	1
‚îÇ    dim_offset:	RelOffset(146)
‚îî‚îÄ   dimensions:	(5,)
‚îå‚îÄ Header Message: HmDatatype
‚îÇ ‚îå‚îÄ offset:	RelOffset(154)
‚îÇ ‚îÇ  size:	12
‚îÇ ‚îî‚îÄ flags:	1
‚îÇ    datatype_offset:	RelOffset(158)
‚îî‚îÄ   dt:	JLD2.FixedPointDatatype(0x30, 0x08, 0x00, 0x00, 0x00000008, 0x0000, 0x0040)
‚îå‚îÄ Header Message: HmDataLayout
‚îÇ ‚îå‚îÄ offset:	RelOffset(170)
‚îÇ ‚îÇ  size:	18
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	4
‚îÇ    layout_class:	LcContiguous
‚îÇ    data_address:	RelOffset(216)
‚îî‚îÄ   data_size:	40
‚îå‚îÄ Header Message: HmNil
‚îÇ ‚îå‚îÄ offset:	RelOffset(192)
‚îÇ ‚îÇ  size:	16
‚îÇ ‚îî‚îÄ flags:	0
‚îî‚îÄ</code></pre><p>Important differences to <code>&quot;a&quot;</code> are that the dataspace now reports the dimensions of the array as <code>(5,)</code> and the the data layout has changed to <em>contiguous</em> which means that it is stored as a single block starting at the offset reported in <code>data_address</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; JLD2.print_header_messages(f, &quot;c&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">‚îå‚îÄ Header Message: HmFillValue
‚îÇ ‚îå‚îÄ offset:	RelOffset(4825)
‚îÇ ‚îÇ  size:	2
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	3
‚îî‚îÄ   flags:	9
‚îå‚îÄ Header Message: HmDataspace
‚îÇ ‚îå‚îÄ offset:	RelOffset(4831)
‚îÇ ‚îÇ  size:	4
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	2
‚îÇ    dimensionality:	0
‚îÇ    flags:	0
‚îÇ    dataspace_type:	0
‚îÇ    dim_offset:	RelOffset(4839)
‚îî‚îÄ   dimensions:	()
‚îå‚îÄ Header Message: HmDatatype
‚îÇ ‚îå‚îÄ offset:	RelOffset(4839)
‚îÇ ‚îÇ  size:	10
‚îÇ ‚îî‚îÄ flags:	3
‚îÇ    version:	3
‚îÇ    msgtype:	2
‚îÇ    dt:	JLD2.SharedDatatype(RelOffset(4520))
‚îî‚îÄ   datatype_offset:	RelOffset(4520)
‚îå‚îÄ Header Message: HmDataLayout
‚îÇ ‚îå‚îÄ offset:	RelOffset(4853)
‚îÇ ‚îÇ  size:	20
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	4
‚îÇ    layout_class:	LcCompact
‚îÇ    data_size:	16
‚îÇ    data_address:	RelOffset(4861)
‚îî‚îÄ   data:	UInt8[0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
‚îå‚îÄ Header Message: HmNil
‚îÇ ‚îå‚îÄ offset:	RelOffset(4877)
‚îÇ ‚îÇ  size:	16
‚îÇ ‚îî‚îÄ flags:	0
‚îî‚îÄ</code></pre><p>For dataset <code>c</code> we see that the datatype is a <em>shared</em> datatype which is stored elsewhere in the file and is referenced by its offset. This is, of course, also a regular hdf5 object and we can print its header messages by supplying the offset:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; JLD2.print_header_messages(f, JLD2.RelOffset(4520))</code><code class="nohighlight hljs ansi" style="display:block;">‚îå‚îÄ Header Message: HmDatatype
‚îÇ ‚îå‚îÄ offset:	RelOffset(4527)
‚îÇ ‚îÇ  size:	38
‚îÇ ‚îî‚îÄ flags:	64
‚îÇ    datatype_offset:	RelOffset(4531)
‚îî‚îÄ   dt:	JLD2.CompoundDatatype(0x00000010, [Symbol(&quot;1&quot;), Symbol(&quot;2&quot;)], [0, 8], JLD2.H5Datatype[JLD2.FixedPointDatatype(0x30, 0x08, 0x00, 0x00, 0x00000008, 0x0000, 0x0040), JLD2.FixedPointDatatype(0x30, 0x08, 0x00, 0x00, 0x00000008, 0x0000, 0x0040)])
‚îå‚îÄ Header Message: HmAttribute
‚îÇ ‚îå‚îÄ offset:	RelOffset(4569)
‚îÇ ‚îÇ  size:	65
‚îÇ ‚îî‚îÄ flags:	0
‚îÇ    version:	2
‚îÇ    flags:	1
‚îÇ    name_size:	11
‚îÇ    datatype_size:	10
‚îÇ    dataspace_size:	4
‚îÇ    name:	julia_type
‚îÇ    vshared:	3
‚îÇ    sharedtype:	2
‚îÇ    datatype:	JLD2.SharedDatatype(RelOffset(256))
‚îÇ    dataspace_offset:	RelOffset(4602)
‚îÇ    dataspace_message:	UInt8[0x02, 0x00, 0x00, 0x00]
‚îî‚îÄ   data_offset:	RelOffset(4606)
    data: &quot;Tuple{Int64, Int64}&quot;</code></pre><p>This object consists of just two messages:</p><ul><li>The datatype message defines the hdf5 datatype and therefore describes the byte layout</li></ul><p>and field types.</p><ul><li>The attribute message has the name <code>julia_type</code> and as payload the julia <code>DataType</code></li></ul><p>signature <code>Tuple{Int64, Int64}</code> which is needed for reconstruction.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../legacy/">¬´ Legacy</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Sunday 24 August 2025 17:59">Sunday 24 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
