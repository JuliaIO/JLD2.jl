<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Compression · Julia Data Format</title><meta name="title" content="Compression · Julia Data Format"/><meta property="og:title" content="Compression · Julia Data Format"/><meta property="twitter:title" content="Compression · Julia Data Format"/><meta name="description" content="Documentation for Julia Data Format."/><meta property="og:description" content="Documentation for Julia Data Format."/><meta property="twitter:description" content="Documentation for Julia Data Format."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Julia Data Format</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../basic_usage/">Basic Usage</a></li><li><a class="tocitem" href="../customserialization/">Custom Serialization</a></li><li class="is-active"><a class="tocitem" href>Compression</a><ul class="internal"><li><a class="tocitem" href="#Compression-Filter-API"><span>Compression Filter API</span></a></li></ul></li><li><a class="tocitem" href="../internals/">Internals &amp; Design</a></li><li><a class="tocitem" href="../hdf5compat/">HDF5 Compatibility</a></li><li><a class="tocitem" href="../advanced/">Advanced Usage</a></li><li><a class="tocitem" href="../legacy/">Legacy</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Compression</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Compression</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaIO/JLD2.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaIO/JLD2.jl/blob/master/docs/src/compression.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Compression"><a class="docs-heading-anchor" href="#Compression">Compression</a><a id="Compression-1"></a><a class="docs-heading-anchor-permalink" href="#Compression" title="Permalink"></a></h1><p>JLD2 supports compression of <code>isbits</code> arrays. This includes the typical <code>Array{Float64}</code> but also arrays of custom structs that are immutable and only consist of basic number type fields.</p><p>To enable the default compression, you can write:</p><pre><code class="language-julia hljs">using JLD2
save(&quot;example.jld2&quot;, &quot;large_array&quot;, zeros(10000); compress = true)</code></pre><p>Alternatively use</p><pre><code class="language-julia hljs">jldsave(&quot;example.jld2&quot;, true; large_array=zeros(10000))</code></pre><p>or</p><pre><code class="language-julia hljs">jldopen(&quot;example.jld2&quot;, &quot;w&quot;; compress = true) do f
    f[&quot;large_array&quot;] = zeros(10000)
end</code></pre><p>When reading a file <code>JLD2</code> detects compression and automatically decompresses the data so it is not necessary to pass any extra parameters for that case. However, <code>JLD2</code> will prompt you to install and load the necessary filter packages if they are not yet available.</p><h2 id="Compression-Filter-API"><a class="docs-heading-anchor" href="#Compression-Filter-API">Compression Filter API</a><a id="Compression-Filter-API-1"></a><a class="docs-heading-anchor-permalink" href="#Compression-Filter-API" title="Permalink"></a></h2><p>JLD2 can use a number of different compression algorithms, also called <em>filter</em>s. These can be used individually and even chained which can be useful for some types of data. The filter used by <code>compress = true</code> is the <code>Deflate()</code> compression filter.</p><div class="admonition is-info" id="Note-61de64ab1e108883"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-61de64ab1e108883" title="Permalink"></a></header><div class="admonition-body"><p>The default <code>Deflate()</code> compression is always available but some others will need to be installed separately. <code>JLD2</code> will throw an error if the required filter package is not loaded, prompting you to install and load the appropriate package e.g. : <code>using JLD2, JLD2Lz4</code>.</p></div></div><h3 id="Installing-Filter-Packages"><a class="docs-heading-anchor" href="#Installing-Filter-Packages">Installing Filter Packages</a><a id="Installing-Filter-Packages-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-Filter-Packages" title="Permalink"></a></h3><p>To use compression filters, you need to install and load the corresponding packages:</p><pre><code class="language-julia hljs">using Pkg
# For other compression algorithms
Pkg.add(&quot;JLD2Lz4&quot;)
using JLD2, JLD2Lz4  # Load the package you need</code></pre><h3 id="Available-Compression-Filters"><a class="docs-heading-anchor" href="#Available-Compression-Filters">Available Compression Filters</a><a id="Available-Compression-Filters-1"></a><a class="docs-heading-anchor-permalink" href="#Available-Compression-Filters" title="Permalink"></a></h3><p>This compression system is analogous to that of HDF5 and uses the same underlying compression libraries. JLD2 files with compressed datasets can in many cases be opened using HDF5 and similarly, JLD2 will be able to read most HDF5 files even with compression. The compression filters available for JLD2 are:</p><table><tr><th style="text-align: left">Filter Package</th><th style="text-align: left">Filter Type</th><th style="text-align: left">Notes</th></tr><tr><td style="text-align: left"><em>built in</em></td><td style="text-align: left"><code>Shuffle</code></td><td style="text-align: left">Rearrangement of bytes useful as a preprocess filter</td></tr><tr><td style="text-align: left"><em>built in</em></td><td style="text-align: left"><code>Deflate</code></td><td style="text-align: left">Default compression, very widely used, good compatibility</td></tr><tr><td style="text-align: left"><em>built in</em></td><td style="text-align: left"><code>ZstdFilter</code></td><td style="text-align: left">Fast, wide range of compression size vs speed trade-offs</td></tr><tr><td style="text-align: left">JLD2Bzip2</td><td style="text-align: left"><code>Bzip2Filter</code></td><td style="text-align: left">Good compression ratio, can be slower</td></tr><tr><td style="text-align: left">JLD2Lz4</td><td style="text-align: left"><code>Lz4Filter</code></td><td style="text-align: left">Very fast compression/decompression</td></tr></table><h3 id="Using-Specific-Filters"><a class="docs-heading-anchor" href="#Using-Specific-Filters">Using Specific Filters</a><a id="Using-Specific-Filters-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Specific-Filters" title="Permalink"></a></h3><p>To use a specific compression filter, pass an instance of the filter instead of <code>true</code>:</p><pre><code class="language-julia hljs">using JLD2, JLD2Lz4

# Using Lz4 compression
jldopen(&quot;example.jld2&quot;, &quot;w&quot;; compress = Lz4Filter()) do f
    f[&quot;large_array&quot;] = zeros(10000)
end

# Zstd with non-standard compression level
jldopen(&quot;example.jld2&quot;, &quot;w&quot;; compress = ZstdFilter(9)) do f
    f[&quot;large_array&quot;] = zeros(10000)
end</code></pre><h3 id="Using-Multiple-Filters"><a class="docs-heading-anchor" href="#Using-Multiple-Filters">Using Multiple Filters</a><a id="Using-Multiple-Filters-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Multiple-Filters" title="Permalink"></a></h3><p>JLD2 supports combining multiple filters for advanced compression strategies. This is particularly useful when combining preprocessing filters (like shuffling) with compression filters. Simply provide a vector of filters:</p><pre><code class="language-julia hljs">using JLD2

# Combine Shuffle preprocessing with Deflate compression
filters = [Shuffle(), Deflate()]

jldopen(&quot;example.jld2&quot;, &quot;w&quot;; compress = filters) do f
    # Benefits from byte shuffling
    # Only the lowest byte of each element is non-zero
    # Shuffle() reorders the bytes of all elements from e.g.
    # [123123123] to [111222333]
    # where each digit refers to the nth byte of an array element.
    f[&quot;numeric_data&quot;] = UInt.(rand(UInt8, 10000))
end</code></pre><div class="admonition is-info" id="Note-80c3399cd4386d11"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-80c3399cd4386d11" title="Permalink"></a></header><div class="admonition-body"><p>Filters in a pipeline are applied in order during compression and in reverse order during decompression. Preprocessing filters (like <code>Shuffle</code>) should typically come before compression filters.</p></div></div><h3 id="Filter-Configuration-Examples"><a class="docs-heading-anchor" href="#Filter-Configuration-Examples">Filter Configuration Examples</a><a id="Filter-Configuration-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Filter-Configuration-Examples" title="Permalink"></a></h3><p>Different filters support various configuration options:</p><pre><code class="language-julia hljs">using JLD2, JLD2Lz4, JLD2Bzip2

# Zstd with different compression levels
zstd_fast = ZstdFilter(1)    # Fast compression
zstd_best = ZstdFilter(22)   # Best compression

# Bzip2 with custom block size
bzip2_filter = Bzip2Filter(4)

# Example usage
jldopen(&quot;example.jld2&quot;, &quot;w&quot;) do f
    write(f, &quot;fast_data&quot;, zeros(UInt8, 10000); compress=zstd_fast)
    write(f, &quot;small_data&quot;, randn(10000); compress=zstd_best)
    write(f, &quot;archive_data&quot;, randn(1000); compress=bzip2_filter)
end</code></pre><p>Depending on the characteristics of your datasets, some configurations may be more efficient than others.</p><h3 id="Manually-selecting-compression-for-datasets"><a class="docs-heading-anchor" href="#Manually-selecting-compression-for-datasets">Manually selecting compression for datasets</a><a id="Manually-selecting-compression-for-datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Manually-selecting-compression-for-datasets" title="Permalink"></a></h3><p>Sometimes you may know that some of your arrays are easily compressible and that for others it is not worth the effort. For precise control, the <code>write</code> function takes an optional keyword argument to override the file compression settings.</p><pre><code class="language-julia hljs">using JLD2

jldopen(&quot;example.jld2&quot;, &quot;w&quot;; compress=ZstdFilter()) do f
    # This gets compressed with the ZstdFilter
    write(f, &quot;default_array&quot;, zeros(10000))

    # Don&#39;t compress this
    write(f, &quot;random_array&quot;, rand(10000); compress=false)

    # Override the above compression filter and use a different one
    write(f, &quot;zlib_array&quot;, zeros(10000); compress=Deflate())

    # Alternatively, use the same filter but with different configuration
    write(f, &quot;fast_compressed&quot;, rand(10000); compress=ZstdFilter(1))
end</code></pre><h3 id="Compatibility-and-Migration-from-v0.5-to-v0.6"><a class="docs-heading-anchor" href="#Compatibility-and-Migration-from-v0.5-to-v0.6">Compatibility and Migration from v0.5 to v0.6</a><a id="Compatibility-and-Migration-from-v0.5-to-v0.6-1"></a><a class="docs-heading-anchor-permalink" href="#Compatibility-and-Migration-from-v0.5-to-v0.6" title="Permalink"></a></h3><ul><li><strong>File Compatibility</strong>: Files created with the old API can be read with the new system. Files created with the v0.6 filter API may not be able to read by older versions of JLD2, see the compatibility table below for more information.</li><li><strong>Performance</strong>: Compression performance and file sizes remain the same as the underlying compression libraries are unchanged.</li><li><strong>HDF5 Compatibility</strong>: The new API is analogous to HDF5.jl, making it easier to work with HDF5 files and improving interoperability.</li></ul><h4 id="Filter-Compatibility-Table"><a class="docs-heading-anchor" href="#Filter-Compatibility-Table">Filter Compatibility Table</a><a id="Filter-Compatibility-Table-1"></a><a class="docs-heading-anchor-permalink" href="#Filter-Compatibility-Table" title="Permalink"></a></h4><p>The following table shows which JLD2 versions can decode data compressed using different filter features:</p><table><tr><th style="text-align: left">Filter feature</th><th style="text-align: left">JLD2 versions able to decode</th></tr><tr><td style="text-align: left"><code>Deflate</code></td><td style="text-align: left">Since 0.2.0</td></tr><tr><td style="text-align: left"><code>Bzip2Filter</code></td><td style="text-align: left">Since 0.4.4</td></tr><tr><td style="text-align: left"><code>ZstdFilter</code></td><td style="text-align: left">Since 0.4.49</td></tr><tr><td style="text-align: left"><code>Shuffle</code></td><td style="text-align: left">Since 0.6.0</td></tr><tr><td style="text-align: left"><code>Lz4Filter</code></td><td style="text-align: left">Since 0.6.0</td></tr><tr><td style="text-align: left">multiple filters</td><td style="text-align: left">Since 0.6.0</td></tr></table><p><strong>Notes:</strong></p><ul><li>Data compressed with <code>LZ4FrameCompressor</code> in previous versions</li></ul><p>can be read if <code>JLD2Lz4</code> is loaded. Data compressed with <code>Lz4Filter</code> cannot be read by JLD2 versions before 0.6.0.</p><p>For code migration, the main change is in how you specify compression filters:</p><pre><code class="language-julia hljs"># Old API
# using JLD2, CodecZlib
# jldopen(&quot;file.jld2&quot;, &quot;w&quot;; compress = ZlibCompressor()) do f

# New API
using JLD2
jldopen(&quot;file.jld2&quot;, &quot;w&quot;; compress = Deflate()) do f
    # ...
end</code></pre><p>The simplest usage option of <code>compress=true</code> still works as before.</p><h3 id="API-Docstrings"><a class="docs-heading-anchor" href="#API-Docstrings">API Docstrings</a><a id="API-Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#API-Docstrings" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLD2.Filters" href="#JLD2.Filters"><code>JLD2.Filters</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>JLD2.Filters</p><p>This module contains the interface for using filters in JLD2.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIO/JLD2.jl/blob/49af2b2c6a6de9f6731d1a190aa2ab1c836659e0/src/Filters.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLD2.Filters.Deflate" href="#JLD2.Filters.Deflate"><code>JLD2.Filters.Deflate</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Deflate &lt;: Filter</code></pre><p>The Deflate filter can be used to compress datasets. It uses the well-known and widely used zlib (deflate) compression algorithm.</p><p><strong>Arguments:</strong></p><ul><li><code>level</code>: Compression level, between 0 and 9. Default is 5.</li></ul><p>Larger numbers lead to better compression, but also to longer runtime.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIO/JLD2.jl/blob/49af2b2c6a6de9f6731d1a190aa2ab1c836659e0/src/Filters.jl#L220-L229">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLD2.Filters.Shuffle" href="#JLD2.Filters.Shuffle"><code>JLD2.Filters.Shuffle</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Shuffle &lt;: Filter</code></pre><p>The Shuffle filter can be used as part of a filter pipeline to compress datasets. It rearranges the bytes of elements in an array to improve compression efficiency. It is not a compression filter by itself, but can be used in conjunction with other compression filters like <code>Deflate</code><code>or</code>ZstdFilter`.</p><p>It can be useful when the array, for example, contains unsigned integer <code>UInt64</code> and all values are small. Then all the upper bytes of the eight byte integer are zero. This filter will rearrange the bytes so that all the least significant bytes are at the beginning of the array, followed by the second least significant bytes, and so on, which simplifies the compression of the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIO/JLD2.jl/blob/49af2b2c6a6de9f6731d1a190aa2ab1c836659e0/src/Filters.jl#L168-L181">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JLD2.Filters.ZstdFilter" href="#JLD2.Filters.ZstdFilter"><code>JLD2.Filters.ZstdFilter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ZstdFilter &lt;: Filter</code></pre><p>The ZstdFilter can be used to compress datasets using the Zstandard compression algorithm.</p><p><strong>Arguments:</strong></p><ul><li><code>level</code>: Compression level, between 1 and 22.</li></ul><p>Larger numbers lead to better compression, but also to longer runtime.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIO/JLD2.jl/blob/49af2b2c6a6de9f6731d1a190aa2ab1c836659e0/src/Filters.jl#L253-L262">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../customserialization/">« Custom Serialization</a><a class="docs-footer-nextpage" href="../internals/">Internals &amp; Design »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Sunday 21 September 2025 21:37">Sunday 21 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
